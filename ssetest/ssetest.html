<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <div id="event"></div>
        <script>
            var evtSource = new EventSource('eventstream');
            var eventList = document.querySelector('#event');
            evtSource.addEventListener('open', ()=>{console.log("sse opened")});
            evtSource.addEventListener('error', (e)=>{console.log(e)});
            evtSource.addEventListener('update', e => {console.log(e)});
            evtSource.onmessage = function(e) {
                console.log(e);
            var newElement = document.createElement("div");

            newElement.textContent = "event: " + e.data;
            eventList.appendChild(newElement);
            }
        </script>
    </body>
</html>